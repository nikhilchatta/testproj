name: AI Code Review

on:
  pull_request:
    types: [opened, reopened, synchronize]

jobs:
  ai-code-review-gate:
    # Points to the reusable workflow hosted in the central AI-CodeReview-Assistant repo.
    # Replace YOUR_ORG with your GitHub organisation or username.
    uses: nikhilchatta/AI-CodeReview-Assistant/.github/workflows/ai-code-review.yml@main

    with:
      # Maximum number of changed files to send for review (default: 20)
      max_files: 20

      # File extensions to review â€” comma-separated, no spaces (default shown below)
      file_extensions: .py,.ts,.tsx,.js,.jsx,.scala,.sql,.tf

      # Job timeout in minutes (default: 15)
      timeout_minutes: 15

    secrets:
      AI_AGENT_API_URL: ${{ secrets.AI_AGENT_API_URL }}
      AI_AGENT_API_KEY: ${{ secrets.AI_AGENT_API_KEY }}
